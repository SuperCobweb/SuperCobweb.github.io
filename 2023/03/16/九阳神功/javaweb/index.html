<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JavaWeb | 可乐就炸鸡の葵花宝典</title><meta name="keywords" content="JavaWeb"><meta name="author" content="可乐就炸鸡"><meta name="copyright" content="可乐就炸鸡"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JavaWeb  目录结构    1. Servlet1.1 Servlet简介 Servlet就是sun公司开发动态web的一门技术 sun在API中提供了一个接口：Servlet，如果想开发一个Servlet程序，只需要完成两步： 编写一个类，实现Servlet接口 把开发好的java类部署到web服务器中    把实现了Servlet接口的java程序叫做Servlet 1.2 HelloS">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb">
<meta property="og:url" content="https://cobwebzh.top/2023/03/16/%E4%B9%9D%E9%98%B3%E7%A5%9E%E5%8A%9F/javaweb/index.html">
<meta property="og:site_name" content="可乐就炸鸡の葵花宝典">
<meta property="og:description" content="JavaWeb  目录结构    1. Servlet1.1 Servlet简介 Servlet就是sun公司开发动态web的一门技术 sun在API中提供了一个接口：Servlet，如果想开发一个Servlet程序，只需要完成两步： 编写一个类，实现Servlet接口 把开发好的java类部署到web服务器中    把实现了Servlet接口的java程序叫做Servlet 1.2 HelloS">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://api.ghser.com/random/api.php">
<meta property="article:published_time" content="2023-03-16T03:19:00.000Z">
<meta property="article:modified_time" content="2023-03-16T03:19:41.198Z">
<meta property="article:author" content="可乐就炸鸡">
<meta property="article:tag" content="JavaWeb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://api.ghser.com/random/api.php"><link rel="shortcut icon" href="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-202207012058447.png"><link rel="canonical" href="https://cobwebzh.top/2023/03/16/%E4%B9%9D%E9%98%B3%E7%A5%9E%E5%8A%9F/javaweb/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaWeb',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2023-03-16 11:19:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-202207012052210.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://www.dmoe.cc/random.php')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">可乐就炸鸡の葵花宝典</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-03-16T03:19:00.000Z" title="发表于 2023-03-16 11:19:00">2023-03-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-16T03:19:41.198Z" title="更新于 2023-03-16 11:19:41">2023-03-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%B9%9D%E9%98%B3%E7%A5%9E%E5%8A%9F/">九阳神功</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaWeb"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><blockquote>
<p> 目录结构</p>
</blockquote>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211021103756182.png" alt="image-20211021103756182"></p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211021205221091.png" alt="image-20211021205221091"></p>
<h2 id="1-Servlet"><a href="#1-Servlet" class="headerlink" title="1. Servlet"></a>1. Servlet</h2><h3 id="1-1-Servlet简介"><a href="#1-1-Servlet简介" class="headerlink" title="1.1 Servlet简介"></a>1.1 Servlet简介</h3><ul>
<li>Servlet就是sun公司开发动态web的一门技术</li>
<li>sun在API中提供了一个接口：Servlet，如果想开发一个Servlet程序，只需要完成两步：<ul>
<li>编写一个类，实现Servlet接口</li>
<li>把开发好的java类部署到web服务器中</li>
</ul>
</li>
</ul>
<p>把实现了Servlet接口的java程序叫做Servlet</p>
<h3 id="1-2-HelloServlet"><a href="#1-2-HelloServlet" class="headerlink" title="1.2 HelloServlet"></a>1.2 HelloServlet</h3><p>Servlet接口sun公司有两个默认的实现类：HttpServlet，GenericServlet</p>
<ol>
<li><p>编写一个Servlet程序</p>
<ol>
<li><p>编写一个普通的类</p>
</li>
<li><p>实现Servlet接口，这里我们直接继承HttpServlet类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.println(<span class="string">&quot;hello, servlet&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写Servlet的映射</p>
<p>为什么需要映射： 我们写的是java程序，通过浏览器访问，浏览器连接的是web服务器，我们需要在web服务器中注册我们写Servlet，给他一个浏览器能够访问的路径。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  注册Servlet，在web服务器中注册servlet--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.cobweb.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  Servlet的请求路径, 浏览器请求当前路径时，访问哪个Servlet--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>一个servelet可以指定多个映射路径</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>一个servlet可以指定通用的映射路径</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>自定义后缀实现映射</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>优先级问题</p>
<p>指定了固有的映射路径优先级最高，如果找不到就会走默认的处理请求</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--自定义404--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.cobweb.servlet.ErrorServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="4">
<li>部署tomcat服务器</li>
</ol>
<blockquote>
<p>IDEA中配置Tomcat</p>
</blockquote>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211021212319798.png" alt="image-20211021212319798"></p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211021213411903.png" alt="image-20211021213411903"></p>
<p>deploy at the server startup: 在服务器中部署，有两种方式，war和war exploded，两种都可以，有一些区别</p>
<ul>
<li><p>war：选择war时，当启动tomcat服务器后，会将项目打包到Tomcat安装目录下的webapps目录，可以再Tomcat启动后去该目录查看。</p>
</li>
<li><p>war exploded：当启动tomcat服务器后，并不会将项目打包到webapps目录下，而是idea以自己的方式复制了一个tomcat工作环境，此时部署在c:\\user\\idea\\system\\tomcat\\unnamed_servlet-01, 同时这种方式支持热部署，也就是在tomcat启动后，改变jsp，html等信息后，不需要重启服务器。</p>
</li>
</ul>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211021105208538.png" alt="image-20211021105208538"></p>
<p>Application context：，可以写，可以不写。</p>
<p>不写，默认访问路径为：localhost:8080</p>
<p>加入写&#x2F;javaweb，localhost:8080&#x2F;javaweb</p>
<p>这个过程叫做，虚拟路径映射</p>
</li>
</ol>
</li>
<li><p>Servlet原理</p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211021215520576.png" alt="image-20211021215520576"></p>
</li>
</ol>
<h2 id="2-Http协议"><a href="#2-Http协议" class="headerlink" title="2. Http协议"></a>2. Http协议</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* 概念：Hyper Text Transfer Protocol 超文本传输协议</span><br><span class="line">	* 传输协议：定义了，客户端和服务器端通信时，发送数据的格式</span><br><span class="line">	* 特点：</span><br><span class="line">		1. 基于TCP/IP的高级协议</span><br><span class="line">		2. 默认端口号:80</span><br><span class="line">		3. 基于请求/响应模型的:一次请求对应一次响应</span><br><span class="line">		4. 无状态的：每次请求之间相互独立，不能交互数据</span><br><span class="line"></span><br><span class="line">	* 历史版本：</span><br><span class="line">		* 1.0：每一次请求响应都会建立新的连接</span><br><span class="line">		* 1.1：复用连接</span><br><span class="line"></span><br><span class="line">1. 请求消息：客户端发送给服务器端的数据</span><br><span class="line">	* 数据格式：</span><br><span class="line">		1. 请求行</span><br><span class="line">		2. 请求头</span><br><span class="line">		3. 请求空行</span><br><span class="line">		4. 请求体</span><br><span class="line">	1. 请求行</span><br><span class="line">		请求方式 请求url 请求协议/版本</span><br><span class="line">		GET /login.html	HTTP/1.1</span><br><span class="line"></span><br><span class="line">		* 请求方式：</span><br><span class="line">			* HTTP协议有7中请求方式，常用的有2种</span><br><span class="line">				* GET：</span><br><span class="line">					1. 请求参数在请求行中，在url后。</span><br><span class="line">					2. 请求的url长度有限制的</span><br><span class="line">					3. 不太安全</span><br><span class="line">				* POST：</span><br><span class="line">					1. 请求参数在请求体中</span><br><span class="line">					2. 请求的url长度没有限制的</span><br><span class="line">					3. 相对安全</span><br><span class="line">	2. 请求头：客户端浏览器告诉服务器一些信息</span><br><span class="line">		请求头名称: 请求头值</span><br><span class="line">		* 常见的请求头：</span><br><span class="line">			1. User-Agent：浏览器告诉服务器，我访问你使用的浏览器版本信息</span><br><span class="line">				* 可以在服务器端获取该头的信息，解决浏览器的兼容性问题</span><br><span class="line"></span><br><span class="line">			2. Referer：http://localhost/login.html</span><br><span class="line">				* 告诉服务器，我(当前请求)从哪里来？</span><br><span class="line">					* 作用：</span><br><span class="line">						1. 防盗链：</span><br><span class="line">						2. 统计工作：</span><br><span class="line">	3. 请求空行</span><br><span class="line">		空行，就是用于分割POST请求的请求头，和请求体的。</span><br><span class="line">	4. 请求体(正文)：</span><br><span class="line">		* 封装POST请求消息的请求参数的</span><br><span class="line"></span><br><span class="line">	* 字符串格式：</span><br><span class="line">		POST /login.html	HTTP/1.1</span><br><span class="line">		Host: localhost</span><br><span class="line">		User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0</span><br><span class="line">		Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">		Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line">		Accept-Encoding: gzip, deflate</span><br><span class="line">		Referer: http://localhost/login.html</span><br><span class="line">		Connection: keep-alive</span><br><span class="line">		Upgrade-Insecure-Requests: 1</span><br><span class="line">		</span><br><span class="line">		username=zhangsan	</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">2. 响应消息：服务器端发送给客户端的数据</span><br><span class="line">	* 数据格式：</span><br><span class="line">		1. 响应行</span><br><span class="line">			1. 组成：协议/版本 响应状态码 状态码描述</span><br><span class="line">			2. 响应状态码：服务器告诉客户端浏览器本次请求和响应的一个状态。</span><br><span class="line">				1. 状态码都是3位数字 </span><br><span class="line">				2. 分类：</span><br><span class="line">					1. 1xx：服务器就收客户端消息，但没有接受完成，等待一段时间后，发送1xx多状态码</span><br><span class="line">					2. 2xx：成功。代表：200</span><br><span class="line">					3. 3xx：重定向。代表：302(重定向)，304(访问缓存)</span><br><span class="line">					4. 4xx：客户端错误。</span><br><span class="line">						* 代表：</span><br><span class="line">							* 404（请求路径没有对应的资源） </span><br><span class="line">							* 405：请求方式没有对应的doXxx方法</span><br><span class="line">					5. 5xx：服务器端错误。代表：500(服务器内部出现异常)</span><br><span class="line">		2. 响应头：</span><br><span class="line">			1. 格式：头名称： 值</span><br><span class="line">			2. 常见的响应头：</span><br><span class="line">				1. Content-Type：服务器告诉客户端本次响应体数据格式以及编码格式</span><br><span class="line">				2. Content-disposition：服务器告诉客户端以什么格式打开响应体数据</span><br><span class="line">					* 值：</span><br><span class="line">						* in-line:默认值,在当前页面内打开</span><br><span class="line">						* attachment;filename=xxx：以附件形式打开响应体。文件下载</span><br><span class="line">		3. 响应空行</span><br><span class="line">		4. 响应体:传输的数据</span><br><span class="line">	* 响应字符串格式</span><br><span class="line">		HTTP/1.1 200 OK</span><br><span class="line">		Content-Type: text/html;charset=UTF-8</span><br><span class="line">		Content-Length: 101</span><br><span class="line">		Date: Wed, 06 Jun 2018 07:08:42 GMT</span><br><span class="line"></span><br><span class="line">		&lt;html&gt;</span><br><span class="line">		  &lt;head&gt;</span><br><span class="line">		    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">		  &lt;/head&gt;</span><br><span class="line">		  &lt;body&gt;</span><br><span class="line">		  hello , response</span><br><span class="line">		  &lt;/body&gt;</span><br><span class="line">		&lt;/html&gt;					</span><br></pre></td></tr></table></figure>

<h2 id="3-Request"><a href="#3-Request" class="headerlink" title="3. Request"></a>3. Request</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. request对象和response对象的原理</span><br><span class="line">	1. request和response对象是由服务器创建的。我们来使用它们</span><br><span class="line">	2. request对象是来获取请求消息，response对象是来设置响应消息</span><br><span class="line"></span><br><span class="line">2. request对象继承体系结构：	</span><br><span class="line">	ServletRequest		--	接口</span><br><span class="line">		|	继承</span><br><span class="line">	HttpServletRequest	-- 接口</span><br><span class="line">		|	实现</span><br><span class="line">	org.apache.catalina.connector.RequestFacade 类(tomcat)</span><br><span class="line"></span><br><span class="line">3. request功能：</span><br><span class="line">	1. 获取请求消息数据</span><br><span class="line">		1. 获取请求行数据</span><br><span class="line">			* GET /day14/demo1?name=zhangsan HTTP/1.1</span><br><span class="line">			* 方法：</span><br><span class="line">				1. 获取请求方式 ：GET</span><br><span class="line">					* String getMethod()  </span><br><span class="line">				2. (*)获取虚拟目录：/day14</span><br><span class="line">					* String getContextPath()</span><br><span class="line">				3. 获取Servlet路径: /demo1</span><br><span class="line">					* String getServletPath()</span><br><span class="line">				4. 获取get方式请求参数：name=zhangsan</span><br><span class="line">					* String getQueryString()</span><br><span class="line">				5. (*)获取请求URI：/day14/demo1</span><br><span class="line">					* String getRequestURI():		/day14/demo1</span><br><span class="line">					* StringBuffer getRequestURL()  :http://localhost/day14/demo1</span><br><span class="line"></span><br><span class="line">					* URL:统一资源定位符 ： http://localhost/day14/demo1	中华人民共和国</span><br><span class="line">					* URI：统一资源标识符 : /day14/demo1					共和国</span><br><span class="line">				</span><br><span class="line">				6. 获取协议及版本：HTTP/1.1</span><br><span class="line">					* String getProtocol()</span><br><span class="line"></span><br><span class="line">				7. 获取客户机的IP地址：</span><br><span class="line">					* String getRemoteAddr()</span><br><span class="line">				</span><br><span class="line">		2. 获取请求头数据</span><br><span class="line">			* 方法：</span><br><span class="line">				* (*)String getHeader(String name):通过请求头的名称获取请求头的值</span><br><span class="line">				* Enumeration&lt;String&gt; getHeaderNames():获取所有的请求头名称</span><br><span class="line">			</span><br><span class="line">		3. 获取请求体数据:</span><br><span class="line">			* 请求体：只有POST请求方式，才有请求体，在请求体中封装了POST请求的请求参数</span><br><span class="line">			* 步骤：</span><br><span class="line">				1. 获取流对象</span><br><span class="line">					*  BufferedReader getReader()：获取字符输入流，只能操作字符数据</span><br><span class="line">					*  ServletInputStream getInputStream()：获取字节输入流，可以操作所有类型数据</span><br><span class="line">						* 在文件上传知识点后讲解</span><br><span class="line"></span><br><span class="line">				2. 再从流对象中拿数据</span><br><span class="line">	2. 其他功能：</span><br><span class="line">		1. 获取请求参数通用方式：不论get还是post请求方式都可以使用下列方法来获取请求参数</span><br><span class="line">			1. String getParameter(String name):根据参数名称获取参数值    username=zs&amp;password=123</span><br><span class="line">			2. String[] getParameterValues(String name):根据参数名称获取参数值的数组  hobby=xx&amp;hobby=game</span><br><span class="line">			3. Enumeration&lt;String&gt; getParameterNames():获取所有请求的参数名称</span><br><span class="line">			4. Map&lt;String,String[]&gt; getParameterMap():获取所有参数的map集合</span><br><span class="line"></span><br><span class="line">			* 中文乱码问题：</span><br><span class="line">				* get方式：tomcat 8 已经将get方式乱码问题解决了</span><br><span class="line">				* post方式：会乱码</span><br><span class="line">					* 解决：在获取参数前，设置request的编码request.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">		2. 请求转发：一种在服务器内部的资源跳转方式</span><br><span class="line">			1. 步骤：</span><br><span class="line">				1. 通过request对象获取请求转发器对象：RequestDispatcher getRequestDispatcher(String path)</span><br><span class="line">				2. 使用RequestDispatcher对象来进行转发：forward(ServletRequest request, ServletResponse response) </span><br><span class="line"></span><br><span class="line">			2. 特点：</span><br><span class="line">				1. 浏览器地址栏路径不发生变化</span><br><span class="line">				2. 只能转发到当前服务器内部资源中。</span><br><span class="line">				3. 转发是一次请求 </span><br><span class="line">		3. 共享数据：</span><br><span class="line">			* 域对象：一个有作用范围的对象，可以在范围内共享数据</span><br><span class="line">			* request域：代表一次请求的范围，一般用于请求转发的多个资源中共享数据</span><br><span class="line">			* 方法：</span><br><span class="line">				1. void setAttribute(String name,Object obj):存储数据</span><br><span class="line">				2. Object getAttitude(String name):通过键获取值</span><br><span class="line">				3. void removeAttribute(String name):通过键移除键值对</span><br><span class="line"></span><br><span class="line">		4. 获取ServletContext：</span><br><span class="line">			* ServletContext getServletContext()     </span><br></pre></td></tr></table></figure>

<p>案例</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">* 用户登录案例需求：</span><br><span class="line">	<span class="number">1.</span>编写login.html登录页面</span><br><span class="line">		username &amp; password 两个输入框</span><br><span class="line">	<span class="number">2.</span>使用Druid数据库连接池技术,操作mysql，day14数据库中user表</span><br><span class="line">	<span class="number">3.</span>使用JdbcTemplate技术封装JDBC</span><br><span class="line">	<span class="number">4.</span>登录成功跳转到SuccessServlet展示：登录成功！用户名,欢迎您</span><br><span class="line">	<span class="number">5.</span>登录失败跳转到FailServlet展示：登录失败，用户名或密码错误</span><br><span class="line">* 分析</span><br><span class="line"></span><br><span class="line">* 开发步骤</span><br><span class="line">	<span class="number">1.</span> 创建项目，导入html页面，配置文件，jar包</span><br><span class="line">	<span class="number">2.</span> 创建数据库环境</span><br><span class="line">		CREATE DATABASE day14;</span><br><span class="line">		USE day14;</span><br><span class="line">		CREATE TABLE <span class="title function_">USER</span><span class="params">(</span></span><br><span class="line"><span class="params">		</span></span><br><span class="line"><span class="params">			id INT PRIMARY KEY AUTO_INCREMENT,</span></span><br><span class="line"><span class="params">			username VARCHAR(<span class="number">32</span>)</span> UNIQUE NOT NULL,</span><br><span class="line">			PASSWORD <span class="title function_">VARCHAR</span><span class="params">(<span class="number">32</span>)</span> NOT NULL</span><br><span class="line">		);</span><br><span class="line"></span><br><span class="line">	<span class="number">3.</span> 创建包cn.itcast.domain,创建类User</span><br><span class="line">		<span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 用户的实体类</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">		    <span class="keyword">private</span> String username;</span><br><span class="line">		    <span class="keyword">private</span> String password;</span><br><span class="line">		    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">		        <span class="keyword">return</span> id;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">		        <span class="built_in">this</span>.id = id;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">		        <span class="keyword">return</span> username;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">		        <span class="built_in">this</span>.username = username;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">		        <span class="keyword">return</span> password;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">		        <span class="built_in">this</span>.password = password;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="meta">@Override</span></span><br><span class="line">		    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">		                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">		                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">		                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">		                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="number">4.</span> 创建包cn.itcast.util,编写工具类JDBCUtils</span><br><span class="line">		<span class="keyword">package</span> cn.itcast.util;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line">		<span class="keyword">import</span> javax.xml.crypto.Data;</span><br><span class="line">		<span class="keyword">import</span> java.io.IOException;</span><br><span class="line">		<span class="keyword">import</span> java.io.InputStream;</span><br><span class="line">		<span class="keyword">import</span> java.sql.Connection;</span><br><span class="line">		<span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line">		<span class="keyword">import</span> java.util.Properties;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * JDBC工具类 使用Durid连接池</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCUtils</span> &#123;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">private</span> <span class="keyword">static</span> DataSource ds ;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">static</span> &#123;</span><br><span class="line">		</span><br><span class="line">		        <span class="keyword">try</span> &#123;</span><br><span class="line">		            <span class="comment">//1.加载配置文件</span></span><br><span class="line">		            <span class="type">Properties</span> <span class="variable">pro</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">		            <span class="comment">//使用ClassLoader加载配置文件，获取字节输入流</span></span><br><span class="line">		            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> JDBCUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;druid.properties&quot;</span>);</span><br><span class="line">		            pro.load(is);</span><br><span class="line">		</span><br><span class="line">		            <span class="comment">//2.初始化连接池对象</span></span><br><span class="line">		            ds = DruidDataSourceFactory.createDataSource(pro);</span><br><span class="line">		</span><br><span class="line">		        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">		            e.printStackTrace();</span><br><span class="line">		        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		            e.printStackTrace();</span><br><span class="line">		        &#125;</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="comment">/**</span></span><br><span class="line"><span class="comment">		     * 获取连接池对象</span></span><br><span class="line"><span class="comment">		     */</span></span><br><span class="line">		    <span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title function_">getDataSource</span><span class="params">()</span>&#123;</span><br><span class="line">		        <span class="keyword">return</span> ds;</span><br><span class="line">		    &#125;</span><br><span class="line">		    <span class="comment">/**</span></span><br><span class="line"><span class="comment">		     * 获取连接Connection对象</span></span><br><span class="line"><span class="comment">		     */</span></span><br><span class="line">		    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		        <span class="keyword">return</span>  ds.getConnection();</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="number">5.</span> 创建包cn.itcast.dao,创建类UserDao,提供login方法</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">import</span> cn.itcast.domain.User;</span><br><span class="line">		<span class="keyword">import</span> cn.itcast.util.JDBCUtils;</span><br><span class="line">		<span class="keyword">import</span> org.springframework.dao.DataAccessException;</span><br><span class="line">		<span class="keyword">import</span> org.springframework.jdbc.core.BeanPropertyRowMapper;</span><br><span class="line">		<span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 操作数据库中User表的类</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">		</span><br><span class="line">		    <span class="comment">//声明JDBCTemplate对象共用</span></span><br><span class="line">		    <span class="keyword">private</span> <span class="type">JdbcTemplate</span> <span class="variable">template</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>(JDBCUtils.getDataSource());</span><br><span class="line">		</span><br><span class="line">		    <span class="comment">/**</span></span><br><span class="line"><span class="comment">		     * 登录方法</span></span><br><span class="line"><span class="comment">		     * <span class="doctag">@param</span> loginUser 只有用户名和密码</span></span><br><span class="line"><span class="comment">		     * <span class="doctag">@return</span> user包含用户全部数据,没有查询到，返回null</span></span><br><span class="line"><span class="comment">		     */</span></span><br><span class="line">		    <span class="keyword">public</span> User <span class="title function_">login</span><span class="params">(User loginUser)</span>&#123;</span><br><span class="line">		        <span class="keyword">try</span> &#123;</span><br><span class="line">		            <span class="comment">//1.编写sql</span></span><br><span class="line">		            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from user where username = ? and password = ?&quot;</span>;</span><br><span class="line">		            <span class="comment">//2.调用query方法</span></span><br><span class="line">		            <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> template.queryForObject(sql,</span><br><span class="line">		                    <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;User&gt;(User.class),</span><br><span class="line">		                    loginUser.getUsername(), loginUser.getPassword());</span><br><span class="line">		            <span class="keyword">return</span> user;</span><br><span class="line">		        &#125; <span class="keyword">catch</span> (DataAccessException e) &#123;</span><br><span class="line">		            e.printStackTrace();<span class="comment">//记录日志</span></span><br><span class="line">		            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		        &#125;</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="number">6.</span> 编写cn.itcast.web.servlet.LoginServlet类</span><br><span class="line">		<span class="keyword">package</span> cn.itcast.web.servlet;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">import</span> cn.itcast.dao.UserDao;</span><br><span class="line">		<span class="keyword">import</span> cn.itcast.domain.User;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line">		<span class="keyword">import</span> java.io.IOException;		      </span><br><span class="line">		<span class="meta">@WebServlet(&quot;/loginServlet&quot;)</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;    </span><br><span class="line">		    <span class="meta">@Override</span></span><br><span class="line">		    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		        <span class="comment">//1.设置编码</span></span><br><span class="line">		        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">		        <span class="comment">//2.获取请求参数</span></span><br><span class="line">		        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">		        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">		        <span class="comment">//3.封装user对象</span></span><br><span class="line">		        <span class="type">User</span> <span class="variable">loginUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">		        loginUser.setUsername(username);</span><br><span class="line">		        loginUser.setPassword(password);</span><br><span class="line">		</span><br><span class="line">		        <span class="comment">//4.调用UserDao的login方法</span></span><br><span class="line">		        <span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDao</span>();</span><br><span class="line">		        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> dao.login(loginUser);</span><br><span class="line">		</span><br><span class="line">		        <span class="comment">//5.判断user</span></span><br><span class="line">		        <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">		            <span class="comment">//登录失败</span></span><br><span class="line">		            req.getRequestDispatcher(<span class="string">&quot;/failServlet&quot;</span>).forward(req,resp);</span><br><span class="line">		        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		            <span class="comment">//登录成功</span></span><br><span class="line">		            <span class="comment">//存储数据</span></span><br><span class="line">		            req.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">		            <span class="comment">//转发</span></span><br><span class="line">		            req.getRequestDispatcher(<span class="string">&quot;/successServlet&quot;</span>).forward(req,resp);</span><br><span class="line">		        &#125;</span><br><span class="line">		</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="meta">@Override</span></span><br><span class="line">		    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		        <span class="built_in">this</span>.doGet(req,resp);</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="number">7.</span> 编写FailServlet和SuccessServlet类</span><br><span class="line">		<span class="meta">@WebServlet(&quot;/successServlet&quot;)</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuccessServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">		    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		        <span class="comment">//获取request域中共享的user对象</span></span><br><span class="line">		        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) request.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		        <span class="keyword">if</span>(user != <span class="literal">null</span>)&#123;</span><br><span class="line">		            <span class="comment">//给页面写一句话</span></span><br><span class="line">		</span><br><span class="line">		            <span class="comment">//设置编码</span></span><br><span class="line">		            response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		            <span class="comment">//输出</span></span><br><span class="line">		            response.getWriter().write(<span class="string">&quot;登录成功！&quot;</span>+user.getUsername()+<span class="string">&quot;,欢迎您&quot;</span>);</span><br><span class="line">		        &#125;		</span><br><span class="line">		    &#125;		</span><br><span class="line">		<span class="meta">@WebServlet(&quot;/failServlet&quot;)</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FailServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">		    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		        <span class="comment">//给页面写一句话</span></span><br><span class="line">		</span><br><span class="line">		        <span class="comment">//设置编码</span></span><br><span class="line">		        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		        <span class="comment">//输出</span></span><br><span class="line">		        response.getWriter().write(<span class="string">&quot;登录失败，用户名或密码错误&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		        <span class="built_in">this</span>.doPost(request,response);</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line">       </span><br></pre></td></tr></table></figure>



<h2 id="4-Response"><a href="#4-Response" class="headerlink" title="4. Response"></a>4. Response</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* 功能：设置响应消息</span><br><span class="line">	1. 设置响应行</span><br><span class="line">		1. 格式：HTTP/1.1 200 ok</span><br><span class="line">		2. 设置状态码：setStatus(int sc) </span><br><span class="line">	2. 设置响应头：setHeader(String name, String value) </span><br><span class="line">		</span><br><span class="line">	3. 设置响应体：</span><br><span class="line">		* 使用步骤：</span><br><span class="line">			1. 获取输出流</span><br><span class="line">				* 字符输出流：PrintWriter getWriter()</span><br><span class="line"></span><br><span class="line">				* 字节输出流：ServletOutputStream getOutputStream()</span><br><span class="line"></span><br><span class="line">			2. 使用输出流，将数据输出到客户端浏览器</span><br><span class="line">* 案例：</span><br><span class="line">	1. 完成重定向</span><br><span class="line">		* 重定向：资源跳转的方式</span><br><span class="line">		* 代码实现：</span><br><span class="line">			//1. 设置状态码为302</span><br><span class="line">	        response.setStatus(302);</span><br><span class="line">	        //2.设置响应头location</span><br><span class="line">	        response.setHeader(&quot;location&quot;,&quot;/day15/responseDemo2&quot;);</span><br><span class="line">	        //简单的重定向方法</span><br><span class="line">	        response.sendRedirect(&quot;/day15/responseDemo2&quot;);</span><br><span class="line"></span><br><span class="line">		* 重定向的特点:redirect</span><br><span class="line">			1. 地址栏发生变化</span><br><span class="line">			2. 重定向可以访问其他站点(服务器)的资源</span><br><span class="line">			3. 重定向是两次请求。不能使用request对象来共享数据</span><br><span class="line">		* 转发的特点：forward</span><br><span class="line">			1. 转发地址栏路径不变</span><br><span class="line">			2. 转发只能访问当前服务器下的资源</span><br><span class="line">			3. 转发是一次请求，可以使用request对象来共享数据</span><br><span class="line">		</span><br><span class="line">		* forward 和  redirect 区别</span><br><span class="line">			</span><br><span class="line">		* 路径写法：</span><br><span class="line">			1. 路径分类</span><br><span class="line">				1. 相对路径：通过相对路径不可以确定唯一资源</span><br><span class="line">					* 如：./index.html</span><br><span class="line">					* 不以/开头，以.开头路径</span><br><span class="line"></span><br><span class="line">					* 规则：找到当前资源和目标资源之间的相对位置关系</span><br><span class="line">						* ./：当前目录</span><br><span class="line">						* ../:后退一级目录</span><br><span class="line">				2. 绝对路径：通过绝对路径可以确定唯一资源</span><br><span class="line">					* 如：http://localhost/day15/responseDemo2		/day15/responseDemo2</span><br><span class="line">					* 以/开头的路径</span><br><span class="line"></span><br><span class="line">					* 规则：判断定义的路径是给谁用的？判断请求将来从哪儿发出</span><br><span class="line">						* 给客户端浏览器使用：需要加虚拟目录(项目的访问路径)</span><br><span class="line">							* 建议虚拟目录动态获取：request.getContextPath()</span><br><span class="line">							* &lt;a&gt; , &lt;form&gt; 重定向...</span><br><span class="line">						* 给服务器使用：不需要加虚拟目录</span><br><span class="line">							* 转发路径</span><br><span class="line">	2. 服务器输出字符数据到浏览器</span><br><span class="line">		* 步骤：</span><br><span class="line">			1. 获取字符输出流</span><br><span class="line">			2. 输出数据</span><br><span class="line"></span><br><span class="line">		* 注意：</span><br><span class="line">			* 乱码问题：</span><br><span class="line">				1. PrintWriter pw = response.getWriter();获取的流的默认编码是ISO-8859-1</span><br><span class="line">				2. 设置该流的默认编码</span><br><span class="line">				3. 告诉浏览器响应体使用的编码</span><br><span class="line"></span><br><span class="line">				//简单的形式，设置编码，是在获取流之前设置</span><br><span class="line">    			response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br><span class="line">	3. 服务器输出字节数据到浏览器</span><br><span class="line">		* 步骤：</span><br><span class="line">			1. 获取字节输出流</span><br><span class="line">			2. 输出数据</span><br><span class="line"></span><br><span class="line">	4. 验证码</span><br><span class="line">		1. 本质：图片</span><br><span class="line">		2. 目的：防止恶意表单注册</span><br></pre></td></tr></table></figure>

<p>案例：实现下载</p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211022151049715.png" alt="image-20211022151049715"></p>
<p>案例：验证码</p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211022152806984.png" alt="image-20211022152806984"></p>
<h2 id="5-ServletContext对象"><a href="#5-ServletContext对象" class="headerlink" title="5. ServletContext对象"></a>5. ServletContext对象</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 概念：代表整个web应用，可以和程序的容器(服务器)来通信</span><br><span class="line">2. 获取：</span><br><span class="line">	1. 通过request对象获取</span><br><span class="line">		request.getServletContext();</span><br><span class="line">	2. 通过HttpServlet获取</span><br><span class="line">		this.getServletContext();</span><br><span class="line">3. 功能：</span><br><span class="line">	1. 获取MIME类型：</span><br><span class="line">		* MIME类型:在互联网通信过程中定义的一种文件数据类型</span><br><span class="line">			* 格式： 大类型/小类型   text/html		image/jpeg</span><br><span class="line"></span><br><span class="line">		* 获取：String getMimeType(String file)  </span><br><span class="line">	2. 域对象：共享数据       </span><br><span class="line">		1. setAttribute(String name,Object value)</span><br><span class="line">		2. getAttribute(String name)</span><br><span class="line">		3. removeAttribute(String name)</span><br><span class="line"></span><br><span class="line">		* ServletContext对象范围：所有用户所有请求的数据</span><br><span class="line">	3. 获取文件的真实(服务器)路径</span><br><span class="line">		1. 方法：String getRealPath(String path)  </span><br><span class="line">			 String b = context.getRealPath(&quot;/b.txt&quot;);//web目录下资源访问</span><br><span class="line">	         System.out.println(b);</span><br><span class="line">	</span><br><span class="line">	        String c = context.getRealPath(&quot;/WEB-INF/c.txt&quot;);//WEB-INF目录下的资源访问</span><br><span class="line">	        System.out.println(c);</span><br><span class="line">	</span><br><span class="line">	        String a = context.getRealPath(&quot;/WEB-INF/classes/a.txt&quot;);//src目录下的资源访问</span><br><span class="line">	        System.out.println(a);</span><br></pre></td></tr></table></figure>

<p>web容器在启动的时候，他会为每一个web程序都创建一个对应的ServletContext对象，他代表了当前的web应用</p>
<h2 id="6-Cookie："><a href="#6-Cookie：" class="headerlink" title="6. Cookie："></a>6. Cookie：</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">会话技术</span><br><span class="line"><span class="number">1.</span> 会话：一次会话中包含多次请求和响应。</span><br><span class="line">	* 一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止</span><br><span class="line"><span class="number">2.</span> 功能：在一次会话的范围内的多次请求间，共享数据</span><br><span class="line"><span class="number">3.</span> 方式：</span><br><span class="line">	<span class="number">1.</span> 客户端会话技术：Cookie</span><br><span class="line">	<span class="number">2.</span> 服务器端会话技术：Session</span><br><span class="line"></span><br><span class="line">Cookie:</span><br><span class="line"><span class="number">1.</span> 概念：客户端会话技术，将数据保存到客户端</span><br><span class="line">    一般会保存在本地的用户目录下的appdata</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 快速入门：</span><br><span class="line">	* 使用步骤：</span><br><span class="line">		<span class="number">1.</span> 创建Cookie对象，绑定数据</span><br><span class="line">			* <span class="keyword">new</span> <span class="title class_">Cookie</span>(String name, String value) </span><br><span class="line">		<span class="number">2.</span> 发送Cookie对象</span><br><span class="line">			* response.addCookie(Cookie cookie) </span><br><span class="line">		<span class="number">3.</span> 获取Cookie，拿到数据</span><br><span class="line">			* Cookie[]  request.getCookies()  </span><br><span class="line"><span class="number">3.</span> 实现原理</span><br><span class="line">	* 基于响应头set-cookie和请求头cookie实现</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> cookie的细节</span><br><span class="line">	<span class="number">1.</span> 一次可不可以发送多个cookie?</span><br><span class="line">		* 可以</span><br><span class="line">		* 可以创建多个Cookie对象，使用response调用多次addCookie方法发送cookie即可。</span><br><span class="line">	<span class="number">2.</span> cookie在浏览器中保存多长时间？</span><br><span class="line">		<span class="number">1.</span> 默认情况下，当浏览器关闭后，Cookie数据被销毁</span><br><span class="line">		<span class="number">2.</span> 持久化存储：</span><br><span class="line">			* setMaxAge(<span class="type">int</span> seconds)</span><br><span class="line">				<span class="number">1.</span> 正数：将Cookie数据写到硬盘的文件中。持久化存储。并指定cookie存活时间，时间到后，cookie文件自动失效</span><br><span class="line">				<span class="number">2.</span> 负数：默认值</span><br><span class="line">				<span class="number">3.</span> 零：删除cookie信息</span><br><span class="line">	<span class="number">3.</span> cookie能不能存中文？</span><br><span class="line">		* 在tomcat <span class="number">8</span> 之前 cookie中不能直接存储中文数据。</span><br><span class="line">			* 需要将中文数据转码---一般采用URL编码(%E3)</span><br><span class="line">		* 在tomcat <span class="number">8</span> 之后，cookie支持中文数据。特殊字符还是不支持，建议使用URL编码存储，URL解码解析</span><br><span class="line">	<span class="number">4.</span> cookie共享问题？</span><br><span class="line">		<span class="number">1.</span> 假设在一个tomcat服务器中，部署了多个web项目，那么在这些web项目中cookie能不能共享？</span><br><span class="line">			* 默认情况下cookie不能共享</span><br><span class="line"></span><br><span class="line">			* setPath(String path):设置cookie的获取范围。默认情况下，设置当前的虚拟目录</span><br><span class="line">				* 如果要共享，则可以将path设置为<span class="string">&quot;/&quot;</span></span><br><span class="line">		<span class="number">2.</span> 不同的tomcat服务器间cookie共享问题？</span><br><span class="line">			* setDomain(String path):如果设置一级域名相同，那么多个服务器之间cookie可以共享</span><br><span class="line">				* setDomain(<span class="string">&quot;.baidu.com&quot;</span>),那么tieba.baidu.com和news.baidu.com中cookie可以共享		</span><br><span class="line"><span class="number">5.</span> Cookie的特点和作用</span><br><span class="line">	<span class="number">1.</span> cookie存储数据在客户端浏览器</span><br><span class="line">	<span class="number">2.</span> 浏览器对于单个cookie 的大小有限制(4kb) 以及 对同一个域名（web站点）下的总cookie数量也有限制(<span class="number">20</span>个)</span><br><span class="line">	<span class="number">3.</span> 浏览器的cookie上限为<span class="number">300</span>个</span><br><span class="line">    </span><br><span class="line">	* 作用：</span><br><span class="line">		<span class="number">1.</span> cookie一般用于存出少量的不太敏感的数据</span><br><span class="line">		<span class="number">2.</span> 在不登录的情况下，完成服务器对客户端的身份识别</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span> 案例：记住上一次访问时间</span><br><span class="line">	<span class="number">1.</span> 需求：</span><br><span class="line">		<span class="number">1.</span> 访问一个Servlet，如果是第一次访问，则提示：您好，欢迎您首次访问。</span><br><span class="line">		<span class="number">2.</span> 如果不是第一次访问，则提示：欢迎回来，您上次访问时间为:显示时间字符串</span><br><span class="line"></span><br><span class="line">	<span class="number">2.</span> 分析：</span><br><span class="line">		<span class="number">1.</span> 可以采用Cookie来完成</span><br><span class="line">		<span class="number">2.</span> 在服务器中的Servlet判断是否有一个名为lastTime的cookie</span><br><span class="line">			<span class="number">1.</span> 有：不是第一次访问</span><br><span class="line">				<span class="number">1.</span> 响应数据：欢迎回来，您上次访问时间为:<span class="number">2018</span>年<span class="number">6</span>月<span class="number">10</span>日<span class="number">11</span>:<span class="number">50</span>:<span class="number">20</span></span><br><span class="line">				<span class="number">2.</span> 写回Cookie：lastTime=<span class="number">2018</span>年<span class="number">6</span>月<span class="number">10</span>日<span class="number">11</span>:<span class="number">50</span>:<span class="number">01</span></span><br><span class="line">			<span class="number">2.</span> 没有：是第一次访问</span><br><span class="line">				<span class="number">1.</span> 响应数据：您好，欢迎您首次访问</span><br><span class="line">				<span class="number">2.</span> 写回Cookie：lastTime=<span class="number">2018</span>年<span class="number">6</span>月<span class="number">10</span>日<span class="number">11</span>:<span class="number">50</span>:<span class="number">01</span></span><br><span class="line"></span><br><span class="line">	<span class="number">3.</span> 代码实现：</span><br><span class="line">		<span class="keyword">package</span> cn.itcast.cookie;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line">		<span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line">		<span class="keyword">import</span> java.io.IOException;</span><br><span class="line">		<span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line">		<span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line">		<span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line">		<span class="keyword">import</span> java.util.Date;             </span><br><span class="line">	<span class="meta">@WebServlet(&quot;/cookieTest&quot;)</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">	        <span class="comment">//设置响应的消息体的数据格式以及编码</span></span><br><span class="line">	        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	        <span class="comment">//1.获取所有Cookie</span></span><br><span class="line">	        Cookie[] cookies = request.getCookies();</span><br><span class="line">	        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;<span class="comment">//没有cookie为lastTime</span></span><br><span class="line">	        <span class="comment">//2.遍历cookie数组</span></span><br><span class="line">	        <span class="keyword">if</span>(cookies != <span class="literal">null</span> &amp;&amp; cookies.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	            <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">	                <span class="comment">//3.获取cookie的名称</span></span><br><span class="line">	                <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> cookie.getName();</span><br><span class="line">	                <span class="comment">//4.判断名称是否是：lastTime</span></span><br><span class="line">	                <span class="keyword">if</span>(<span class="string">&quot;lastTime&quot;</span>.equals(name))&#123;</span><br><span class="line">	                    <span class="comment">//有该Cookie，不是第一次访问</span></span><br><span class="line">	</span><br><span class="line">	                    flag = <span class="literal">true</span>;<span class="comment">//有lastTime的cookie</span></span><br><span class="line">	</span><br><span class="line">	                    <span class="comment">//设置Cookie的value</span></span><br><span class="line">	                    <span class="comment">//获取当前时间的字符串，重新设置Cookie的值，重新发送cookie</span></span><br><span class="line">	                    <span class="type">Date</span> <span class="variable">date</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">	                    <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span>);</span><br><span class="line">	                    <span class="type">String</span> <span class="variable">str_date</span> <span class="operator">=</span> sdf.format(date);</span><br><span class="line">	                    System.out.println(<span class="string">&quot;编码前：&quot;</span>+str_date);</span><br><span class="line">	                    <span class="comment">//URL编码</span></span><br><span class="line">	                    str_date = URLEncoder.encode(str_date,<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">	                    System.out.println(<span class="string">&quot;编码后：&quot;</span>+str_date);</span><br><span class="line">	                    cookie.setValue(str_date);</span><br><span class="line">	                    <span class="comment">//设置cookie的存活时间</span></span><br><span class="line">	                    cookie.setMaxAge(<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>);<span class="comment">//一个月</span></span><br><span class="line">	                    response.addCookie(cookie);        </span><br><span class="line">	                    <span class="comment">//响应数据</span></span><br><span class="line">	                    <span class="comment">//获取Cookie的value，时间</span></span><br><span class="line">	                    <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> cookie.getValue();</span><br><span class="line">	                    System.out.println(<span class="string">&quot;解码前：&quot;</span>+value);</span><br><span class="line">	                    <span class="comment">//URL解码：</span></span><br><span class="line">	                    value = URLDecoder.decode(value,<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">	                    System.out.println(<span class="string">&quot;解码后：&quot;</span>+value);</span><br><span class="line">	                    response.getWriter().write(<span class="string">&quot;&lt;h1&gt;欢迎回来，您上次访问时间为:&quot;</span>+value+<span class="string">&quot;&lt;/h1&gt;&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	                    <span class="keyword">break</span>;</span><br><span class="line">	</span><br><span class="line">	                &#125;</span><br><span class="line">	            &#125;</span><br><span class="line">	        &#125;	                    </span><br><span class="line">	        <span class="keyword">if</span>(cookies == <span class="literal">null</span> || cookies.length == <span class="number">0</span> || flag == <span class="literal">false</span>)&#123;</span><br><span class="line">	            <span class="comment">//没有，第一次访问</span></span><br><span class="line">	</span><br><span class="line">	            <span class="comment">//设置Cookie的value</span></span><br><span class="line">	            <span class="comment">//获取当前时间的字符串，重新设置Cookie的值，重新发送cookie</span></span><br><span class="line">	            <span class="type">Date</span> <span class="variable">date</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">	            <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span>);</span><br><span class="line">	            <span class="type">String</span> <span class="variable">str_date</span> <span class="operator">=</span> sdf.format(date);</span><br><span class="line">	            System.out.println(<span class="string">&quot;编码前：&quot;</span>+str_date);</span><br><span class="line">	            <span class="comment">//URL编码</span></span><br><span class="line">	            str_date = URLEncoder.encode(str_date,<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">	            System.out.println(<span class="string">&quot;编码后：&quot;</span>+str_date);</span><br><span class="line">	</span><br><span class="line">	            <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastTime&quot;</span>,str_date);</span><br><span class="line">	            <span class="comment">//设置cookie的存活时间</span></span><br><span class="line">	            cookie.setMaxAge(<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>);<span class="comment">//一个月</span></span><br><span class="line">	            response.addCookie(cookie);</span><br><span class="line">	</span><br><span class="line">	            response.getWriter().write(<span class="string">&quot;&lt;h1&gt;您好，欢迎您首次访问&lt;/h1&gt;&quot;</span>);</span><br><span class="line">	        &#125;	        </span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">	    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">	        <span class="built_in">this</span>.doPost(request, response);</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;	        			</span><br></pre></td></tr></table></figure>



<h2 id="7-Session：主菜"><a href="#7-Session：主菜" class="headerlink" title="7. Session：主菜"></a>7. Session：主菜</h2><pre><code>1. 概念：服务器会为每一个用户（浏览器）创建一个Session对象。服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器端的对象中。HttpSession
2. 快速入门：
    1. 获取HttpSession对象：
        HttpSession session = request.getSession();
    2. 使用HttpSession对象：
        Object getAttribute(String name)  
        void setAttribute(String name, Object value)
        void removeAttribute(String name)  

3. 原理
    * Session的实现是依赖于Cookie的。
4. 细节：
    1. 当客户端关闭后，服务器不关闭，两次获取session是否为同一个？
        * 默认情况下。不是。
        * 如果需要相同，则可以创建Cookie,键为JSESSIONID，设置最大存活时间，让cookie持久化保存。
             Cookie c = new Cookie(&quot;JSESSIONID&quot;,session.getId());
             c.setMaxAge(60*60);
             response.addCookie(c);

    2. 客户端不关闭，服务器关闭后，两次获取的session是同一个吗？
        * 不是同一个，但是要确保数据不丢失。tomcat自动完成以下工作
            * session的钝化：
                * 在服务器正常关闭之前，将session对象系列化到硬盘上
            * session的活化：
                * 在服务器启动后，将session文件转化为内存中的session对象即可。
            
    3. session什么时候被销毁？
        1. 服务器关闭
        2. session对象调用invalidate() 。
        3. session默认失效时间 30分钟
            选择性配置修改	
            &lt;session-config&gt;
                &lt;session-timeout&gt;30&lt;/session-timeout&gt;
            &lt;/session-config&gt;

 5. session的特点
     1. session用于存储一次会话的多次请求的数据，存在服务器端
     2. session可以存储任意类型，任意大小的数据

    * session与Cookie的区别：
        1. session存储数据在服务器端，Cookie在客户端
        2. session没有数据大小限制，Cookie有
        3. session数据安全，Cookie相对于不安全	
        
6. Session使用场景：
    1. 保存一个用户的登录信息
    2. 购物车信息
    3. 在整个网站中经常会使用的数据，我们将它保存在Session中
</code></pre>
<p>​	</p>
<p>   <img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211022213639300.png" alt="image-20211022213639300"></p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211022214520035.png" alt="image-20211022214520035"></p>
<h2 id="8-JSP"><a href="#8-JSP" class="headerlink" title="8. JSP"></a>8. JSP</h2><pre><code>1. 概念：
    * Java Server Pages： java服务器端页面
        * 可以理解为：一个特殊的页面，其中既可以指定定义html标签，又可以定义java代码
        * 用于简化书写！！！
2. 原理
    * JSP本质上就是一个Servlet

3. JSP的脚本：JSP定义Java代码的方式
    1. &lt;%  代码 %&gt;：定义的java代码，在service方法中。service方法中可以定义什么，该脚本中就可以定义什么。
    2. &lt;%! 代码 %&gt;：定义的java代码，在jsp转换后的java类的成员位置。
    3. &lt;%= 代码 %&gt;：定义的java代码，会输出到页面上。输出语句中可以定义什么，该脚本中就可以定义什么。		
4. JSP的内置对象：
    * 在jsp页面中不需要获取和创建，可以直接使用的对象
    * jsp一共有9个内置对象。
    9个内置对象如下：
        page：代表当前JSP页面
        request:代表由用户提交请求而触发的request对象
        session:代表会话对象，在发生HTTP请求时被创建
        application:代表返回的ServletContext对象
        response:代表用户提交请求而触发的对象
        out:代表输出流的JspWrite对象，用来向客户端输出各种格式的数据，并且管理服务器上的输出缓冲区
        config:代表为当前页面配置JSP的Servlet
        exception:代表当前页面产生不可预测的异常
        pageContext:提供对JSP页面所有对象和名字空间的访问。
        
5.JSP内置对象的作用域
    所谓内置对象的作用域是指每个内置对象在多长时间和多大范围内有效，即在什么样的范围内可以有效的访问同一个对象的实例。

    1-Application作用域：对应application对象的作用范围，起始于服务器启动时cpplication对象被创建之时，终止于服务器被关闭时，该作用域时间最长。
    2-Session作用域：作用在客户端和服务器端连接的期间，直到连接中断为止。Session对象是服务器端为客户端开辟的存储空间，每个用户首次访问服务器时，，服务器自动为该用户创建一个session对象，该用户退出时，该session对象消失。
    3-Request作用域：对应request对象的作用范围，客户每次向JSP页面提出请求时候创建一个request对象，当请求结束，该request立刻失效。
    4-Page作用域：对应page对象的作用范围，仅在一个JSP页面有效，它的作用范围最小。

6. 指令
    * 作用：用于配置JSP页面，导入资源文件
    * 格式：
        &lt;%@ 指令名称 属性名1=属性值1 属性名2=属性值2 ... %&gt;
    * 分类：
        1. page		： 配置JSP页面的
            * contentType：等同于response.setContentType()
                1. 设置响应体的mime类型以及字符集
                2. 设置当前jsp页面的编码（只能是高级的IDE才能生效，如果使用低级工具，则需要设置pageEncoding属性设置当前页面的字符集）
            * import：导包
            * errorPage：当前页面发生异常后，会自动跳转到指定的错误页面
            * isErrorPage：标识当前也是是否是错误页面。
                * true：是，可以使用内置对象exception
                * false：否。默认值。不可以使用内置对象exception
        2. include	： 页面包含的。导入页面的资源文件
            * &lt;%@include file=&quot;top.jsp&quot;%&gt;
        3. taglib	： 导入资源
            * &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
                * prefix：前缀，自定义的
7. 注释:
    1. html注释：
        &lt;!-- --&gt;:只能注释html代码片段
    2. jsp注释：推荐使用
        &lt;%-- --%&gt;：可以注释所有		
8. 内置对象
    * 在jsp页面中不需要创建，直接使用的对象
    * 一共有9个：
            变量名					真实类型						作用
        * pageContext				PageContext					当前页面共享数据，还可以获取其他八个内置对象
        * request					HttpServletRequest			一次请求访问的多个资源(转发)
        * session					HttpSession					一次会话的多个请求间
        * application				ServletContext				所有用户间共享数据
        * response					HttpServletResponse			响应对象
        * page						Object						当前页面(Servlet)的对象  this
        * out						JspWriter					输出对象，数据输出到页面上
        * config					ServletConfig				Servlet的配置对象
        * exception					Throwable					异常对象        
</code></pre>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211022222819978.png" alt="image-20211022222819978"></p>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211023111645476.png" alt="image-20211023111645476"></p>
<h2 id="9-EL表达式"><a href="#9-EL表达式" class="headerlink" title="9. EL表达式"></a>9. EL表达式</h2><pre><code>1. 概念：Expression Language 表达式语言
2. 作用：替换和简化jsp页面中java代码的编写
3. 语法：$&#123;表达式&#125;
4. 注意：
    * jsp默认支持el表达式的。如果要忽略el表达式
        1. 设置jsp中page指令中：isELIgnored=&quot;true&quot; 忽略当前jsp页面中所有的el表达式
        2. \$&#123;表达式&#125; ：忽略当前这个el表达式
5. 使用：
    1. 运算：
        * 运算符：
            1. 算数运算符： + - * /(div) %(mod)
            2. 比较运算符： &gt; &lt; &gt;= &lt;= == !=
            3. 逻辑运算符： &amp;&amp;(and) ||(or) !(not)
            4. 空运算符： empty
                * 功能：用于判断字符串、集合、数组对象是否为null或者长度是否为0
                * $&#123;empty list&#125;:判断字符串、集合、数组对象是否为null或者长度为0
                * $&#123;not empty str&#125;:表示判断字符串、集合、数组对象是否不为null 并且 长度&gt;0
    2. 获取值
        1. el表达式只能从域对象中获取值
        2. 语法：
            1. $&#123;域名称.键名&#125;：从指定域中获取指定键的值
                * 域名称：
                    1. pageScope		--&gt; pageContext
                    2. requestScope 	--&gt; request
                    3. sessionScope 	--&gt; session
                    4. applicationScope --&gt; application（ServletContext）
                * 举例：在request域中存储了name=张三
                * 获取：$&#123;requestScope.name&#125;

            2. $&#123;键名&#125;：表示依次从最小的域中查找是否有该键对应的值，直到找到为止。		
            3. 获取对象、List集合、Map集合的值
                1. 对象：$&#123;域名称.键名.属性名&#125;
                    * 本质上会去调用对象的getter方法

                2. List集合：$&#123;域名称.键名[索引]&#125;

                3. Map集合：
                    * $&#123;域名称.键名.key名称&#125;
                    * $&#123;域名称.键名[&quot;key名称&quot;]&#125;			
    3. 隐式对象：
        * el表达式中有11个隐式对象
        * pageContext：
            * 获取jsp其他八个内置对象
                * $&#123;pageContext.request.contextPath&#125;：动态获取虚拟目录					
</code></pre>
<p>​				<br>​					</p>
<h2 id="10-JSTL"><a href="#10-JSTL" class="headerlink" title="10. JSTL"></a>10. JSTL</h2><pre><code>1. 概念：JavaServer Pages Tag Library  JSP标准标签库
    * 是由Apache组织提供的开源的免费的jsp标签		&lt;标签&gt;

2. 作用：用于简化和替换jsp页面上的java代码		

3. 使用步骤：
    1. 导入jstl相关jar包
    2. 引入标签库：taglib指令：  &lt;%@ taglib %&gt; 或 &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
    3. 使用标签

4. 常用的JSTL标签
    1. if:相当于java代码的if语句
        1. 属性：
            * test 必须属性，接受boolean表达式
                * 如果表达式为true，则显示if标签体内容，如果为false，则不显示标签体内容
                * 一般情况下，test属性值会结合el表达式一起使用
   		 2. 注意：
       		 * c:if标签没有else情况，想要else情况，则可以在定义一个c:if标签
    2. choose:相当于java代码的switch语句
        1. 使用choose标签声明         			相当于switch声明
        2. 使用when标签做判断         			相当于case
        3. 使用otherwise标签做其他情况的声明    	相当于default

    3. foreach:相当于java代码的for语句

5. 练习：
    * 需求：在request域中有一个存有User对象的List集合。需要使用jstl+el将list集合数据展示到jsp页面的表格table中
</code></pre>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211023143733072.png" alt="image-20211023143733072"></p>
<h2 id="11-JavaBean"><a href="#11-JavaBean" class="headerlink" title="11. JavaBean"></a>11. JavaBean</h2><p>实体类</p>
<p>JavaBean有特定的写法：</p>
<ul>
<li>必须要有一个无参构造</li>
<li>属性必须私有化</li>
<li>必须有对应的get.set方法</li>
</ul>
<p>一般用来和数据库的字段做映射 ORM</p>
<p>ORM： 对象关系映射</p>
<ul>
<li>表—》类</li>
<li>字段—》 属性</li>
</ul>
<h2 id="12-MVC：开发模式"><a href="#12-MVC：开发模式" class="headerlink" title="12. MVC：开发模式"></a>12. MVC：开发模式</h2><pre><code>1. jsp演变历史
    1. 早期只有servlet，只能使用response输出标签数据，非常麻烦
    2. 后来又jsp，简化了Servlet的开发，如果过度使用jsp，在jsp中即写大量的java代码，有写html表，造成难于维护，难于分工协作
    3. 再后来，java的web开发，借鉴mvc开发模式，使得程序的设计更加合理性

2. MVC：
    1. M：Model，模型。
        * 业务处理：业务逻辑（Service）
        * 数据持久层：CRUD（Dao）
    2. V：View，视图。JSP
        * 展示数据
        * 提供链接发起Servlet请求
    3. C：Controller，控制器。Servlet
        * 接收用户的请求
        * 调用模型（交给业务层处理对应的代码）
        * 将数据交给视图进行展示
    * 优缺点：
        1. 优点：
            1. 耦合性低，方便维护，可以利于分工协作
            2. 重用性高

        2. 缺点：
            1. 使得项目架构变得复杂，对开发人员要求高		
</code></pre>
<p><img src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-20211023152021164.png" alt="image-20211023152021164"></p>
<h2 id="13-Filter（过滤器）"><a href="#13-Filter（过滤器）" class="headerlink" title="13. Filter（过滤器）"></a>13. Filter（过滤器）</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CharacterEncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//web服务器启动就初始化</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        Filter.<span class="built_in">super</span>.init(filterConfig);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;CharacterEncodingFilter过滤前。。。&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse); <span class="comment">//让我们的程序继续走，如果不写程序到这就被拦截停止了</span></span><br><span class="line">        System.out.println(<span class="string">&quot;CharacterEncodingFilter过滤后。。。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        Filter.<span class="built_in">super</span>.destroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.cobweb.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   只要是/servlet的任何请求，都会经过这个过滤器     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="14-监听器"><a href="#14-监听器" class="headerlink" title="14. 监听器"></a>14. 监听器</h2><p>有N中监听器接口</p>
<p>实现一个监听器</p>
<ol>
<li><p>实现其中一个接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//统计网站的在线人数 ： 统计Session</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OnlineCountListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//创建Session监听</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> se.getSession().getServletContext();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">onlineCount</span> <span class="operator">=</span> (Integer) servletContext.getAttribute(<span class="string">&quot;OnlineCount&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (onlineCount == <span class="literal">null</span>)&#123;</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> onlineCount.intValue();</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(count + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;OnlineCount&quot;</span>, onlineCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> se.getSession().getServletContext();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">onlineCount</span> <span class="operator">=</span> (Integer) servletContext.getAttribute(<span class="string">&quot;OnlineCount&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (onlineCount == <span class="literal">null</span>)&#123;</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> onlineCount.intValue();</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(count - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;OnlineCount&quot;</span>, onlineCount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>配置监听器</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.cobweb.listener.OnlineCountListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>









<blockquote>
<p>maven导出问题 ，约定大于配置</p>
<p>标准的Maven项目都会有一个resources目录来存放我们所有的资源配置文件，但是我们往往在项目中不仅仅会把所有的资源配置文件都放在resources中，同时我们也有可能放在项目中的其他位置，那么默认的maven项目构建编译时就不会把我们其他目录下的资源配置文件导出到target目录中，就会导致我们的资源配置文件读取失败，从而导致我们的项目报错出现异常，比如说尤其我们在使用MyBatis框架时，往往Mapper.xml配置文件都会放在dao包中和dao接口类放在一起的,那么执行程序的时候，其中的xml配置文件就一定会读取失败，不会生成到maven的target目录中，所以我们要在项目的pom.xml文件中进行设置，并且我建议大家，每新建一个maven项目，就把该设置导入pom.xml文件中，以防不测！！！</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>



</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://cobwebzh.top">可乐就炸鸡</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://cobwebzh.top/2023/03/16/%E4%B9%9D%E9%98%B3%E7%A5%9E%E5%8A%9F/javaweb/">https://cobwebzh.top/2023/03/16/%E4%B9%9D%E9%98%B3%E7%A5%9E%E5%8A%9F/javaweb/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://cobwebzh.top" target="_blank">可乐就炸鸡の葵花宝典</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaWeb/">JavaWeb</a></div><div class="post_share"></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/111" target="_blank"><img class="post-qr-code-img" src="https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-202210241925598.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/28/%E9%A1%B9%E7%9B%AE/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95/"><img class="prev-cover" src="https://api.ghser.com/random/api.php" onerror="onerror=null;src='https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-202207050039612.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">面试记录</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/18/%E4%B9%9D%E9%98%B3%E7%A5%9E%E5%8A%9F/SpringBoot/"><img class="next-cover" src="https://api.ghser.com/random/api.php" onerror="onerror=null;src='https://cobweb-post-images.oss-cn-beijing.aliyuncs.com/typora/image-202207050039612.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringBoot</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaWeb"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Servlet"><span class="toc-number">1.1.</span> <span class="toc-text">1. Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Servlet%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 Servlet简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-HelloServlet"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 HelloServlet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Http%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.2.</span> <span class="toc-text">2. Http协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Request"><span class="toc-number">1.3.</span> <span class="toc-text">3. Request</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Response"><span class="toc-number">1.4.</span> <span class="toc-text">4. Response</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-ServletContext%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.5.</span> <span class="toc-text">5. ServletContext对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Cookie%EF%BC%9A"><span class="toc-number">1.6.</span> <span class="toc-text">6. Cookie：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Session%EF%BC%9A%E4%B8%BB%E8%8F%9C"><span class="toc-number">1.7.</span> <span class="toc-text">7. Session：主菜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-JSP"><span class="toc-number">1.8.</span> <span class="toc-text">8. JSP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.9.</span> <span class="toc-text">9. EL表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-JSTL"><span class="toc-number">1.10.</span> <span class="toc-text">10. JSTL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-JavaBean"><span class="toc-number">1.11.</span> <span class="toc-text">11. JavaBean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-MVC%EF%BC%9A%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.12.</span> <span class="toc-text">12. MVC：开发模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-Filter%EF%BC%88%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%89"><span class="toc-number">1.13.</span> <span class="toc-text">13. Filter（过滤器）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">1.14.</span> <span class="toc-text">14. 监听器</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022.07 - 2023 By 可乐就炸鸡</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>